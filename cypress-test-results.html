<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cypress Test Results</title>
    <link rel="stylesheet" href="cypress-test-results.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß™ Cypress Test Results</h1>
            <p>End-to-End Testing Results and Analysis</p>
        </div>
        
        <div class="content">
            <div class="summary-box">
                <h2 id="summary-title">‚úÖ Test Execution Summary</h2>
                <p id="summary-message">All tests passed successfully! Your application is working as expected.</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-tests">1</div>
                    <div class="stat-label">Total Tests</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="passed-tests">1</div>
                    <div class="stat-label">Passed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number failed" id="failed-tests">0</div>
                    <div class="stat-label">Failed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number duration" id="execution-duration">16s</div>
                    <div class="stat-label">Duration</div>
                </div>
            </div>
            
            <div class="details-section">
                <h3>üìã Test Details</h3>
                <div id="test-details">
                    <div class="test-item">
                        <div class="test-name">Almosafer Signin Page Visual Testing</div>
                        <div class="test-status">‚úÖ PASSED - should capture visual snapshot of the signin page</div>
                    </div>
                </div>
            </div>
            
            <div class="details-section">
                <h3>üîß Test Configuration</h3>
                <ul>
                    <li><strong>Browser:</strong> <span id="browser-info">Chrome 139 (headless)</span></li>
                    <li><strong>Spec File:</strong> <span id="spec-file">percyVisual.cy.js</span></li>
                    <li><strong>Base URL:</strong> <span id="base-url">https://next-staging.almosafer.com</span></li>
                    <li><strong>Viewport:</strong> <span id="viewport-size">1280x720</span></li>
                    <li><strong>Execution Date:</strong> <span id="execution-date"></span></li>
                </ul>
            </div>
        </div>
        
        <div class="footer">
            <p>Generated by Cypress Testing Framework | Jenkins Integration</p>
        </div>
    </div>

    <script>
        // Simple script to populate dynamic test data
        document.addEventListener('DOMContentLoaded', function() {
            // Set execution date
            document.getElementById('execution-date').textContent = new Date().toLocaleString();
            
            // Try to get data from Cypress results if available
            try {
                // You can modify these values based on your actual test results
                const testData = {
                    totalTests: 3,
                    passed: 2,
                    failed: 1,
                    duration: '45s',
                    browser: 'Chrome 140 (headless)',
                    specFile: 'percyVisual.cy.js',
                    baseUrl: 'https://next-staging.almosafer.com',
                    viewport: '1920x1080'
                }
                
                // Update the display
                document.getElementById('total-tests').textContent = testData.totalTests;
                document.getElementById('passed-tests').textContent = testData.passed;
                document.getElementById('failed-tests').textContent = testData.failed;
                document.getElementById('execution-duration').textContent = testData.duration;
                document.getElementById('browser-info').textContent = testData.browser;
                document.getElementById('spec-file').textContent = testData.specFile;
                document.getElementById('base-url').textContent = testData.baseUrl;
                document.getElementById('viewport-size').textContent = testData.viewport;
                
                // Update summary based on results
                if (testData.failed > 0) {
                    document.getElementById('summary-title').textContent = '‚ö†Ô∏è Test Execution Summary';
                    document.getElementById('summary-title').innerHTML = '‚ö†Ô∏è Test Execution Summary';
                    document.getElementById('summary-message').textContent = `${testData.failed} test(s) failed. Please review the results below.`;
                }
                
            } catch (error) {
                console.log('Using default test data');
            }
        });
    </script>
</body>
</html>
